"use strict";function xhrRequest(t,n){xhr(location.protocol+"//"+location.host+"/list.php?page="+t+"&per_page=4","GET",null,n)}function xhr(t,n,e,s){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status)return s(o.responseText)},o.open(n,t),o.send(e)}function productSection(t){function n(){null!==d&&(e(d,o),d=null)}function e(t,n){for(var e=0,s=d.entities.length;e<s;e++)!function(n){setTimeout(function(){if(r.insertAdjacentElement("beforeend",template.call(t.entities[n])),t.total===document.querySelector(i).children.length){return void a.parentElement.removeChild(a)}},100*n)}(e);n()}function s(t){var n;try{n=JSON.parse(t)}catch(t){console.log(t)}d=n,l++}function o(){xhrRequest(l,s)}var i=t.section,c=t.btn,r=document.querySelector(i),a=document.querySelector(c),d=null,l=2;a.addEventListener("click",n),o()}function template(t){var n=document.createElement("div"),e='<div class="product-holder">\n                    <div class="product-image">\n                        <img src="'+this.img+'" alt="'+this.title+'">\n                        '+(this.new?'<span class="product-status product-new">new</span>':"")+"\n                        "+(null!==this.discountCost?'<span class="product-status product-sale">'+this.discountCost+"</span>":"")+"\n                    </div>\n                    <h2>"+this.title+"</h2>\n                    <p>"+this.description+'</p>\n                    <div class="product-price">\n                        <span class="product-price__cost">&#36; '+this.cost+"</span>\n                        "+(null!==this.discountCost?'<span class="product-price__discount"> &#36; '+this.discountCost+"</span>":"")+'\n                    </div>\n                    <div class="product-btn">\n                        <form>\n                            <button type="submit" class="btn btn-secondary btn-secondary-outline">add to cart</button>\n                        </form>\n                        <a href="#" class="btn btn-primary">view</a>\n                    </div>\n                </div>';return n.setAttribute("class","grid-col grid-col-xlg-4 grid-col-lg-3 grid-col-md-2 product-show"),n.innerHTML=e,n}window.addEventListener("DOMContentLoaded",function(){productSection({section:"#productSection",btn:"#loadMore"})});